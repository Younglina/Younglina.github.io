---
title: 63.ä¸åŒè·¯å¾„II
author: Younglina
date: '2022-04-13'
showAccessNumber: true
categories:
 - ç®—æ³•
tags:
 - åŠ¨æ€è§„åˆ’
 - ä¸­ç­‰
---

## é¢˜ç›®æè¿°

**[63.ä¸åŒè·¯å¾„II](https://leetcode-cn.com/problems/unique-paths-ii/)**  
ä¸€ä¸ªæœºå™¨äººä½äºä¸€ä¸ªÂ m x nÂ ç½‘æ ¼çš„å·¦ä¸Šè§’ ï¼ˆèµ·å§‹ç‚¹åœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œStartâ€ ï¼‰ã€‚  
æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚æœºå™¨äººè¯•å›¾è¾¾åˆ°ç½‘æ ¼çš„å³ä¸‹è§’ï¼ˆåœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œFinishâ€ï¼‰ã€‚  
ç°åœ¨è€ƒè™‘ç½‘æ ¼ä¸­æœ‰éšœç¢ç‰©ã€‚é‚£ä¹ˆä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’å°†ä¼šæœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ï¼Ÿ  
ç½‘æ ¼ä¸­çš„éšœç¢ç‰©å’Œç©ºä½ç½®åˆ†åˆ«ç”¨ 1 å’Œ 0 æ¥è¡¨ç¤ºã€‚  

### ç¤ºä¾‹ 1ï¼š
<div class="path-table">

| ğŸ¤–ï¸ï¼ˆstartï¼‰  |      |      |      |      |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- |
|      |      |      |   ğŸ”   |      |      |      |
|      |      |      |      |      |      |  âœ¨ï¼ˆFinishï¼‰   |

</div>

```
è¾“å…¥ï¼šobstacleGrid = [[0,0,0],[0,1,0],[0,0,0]]  
è¾“å‡ºï¼š2  
è§£é‡Šï¼š3x3 ç½‘æ ¼çš„æ­£ä¸­é—´æœ‰ä¸€ä¸ªéšœç¢ç‰©ã€‚  
ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’ä¸€å…±æœ‰ 2 æ¡ä¸åŒçš„è·¯å¾„ï¼š  
1. å‘å³ -> å‘å³ -> å‘ä¸‹ -> å‘ä¸‹  
2. å‘ä¸‹ -> å‘ä¸‹ -> å‘å³ -> å‘å³  
```

### ç¤ºä¾‹ 2ï¼š

| ğŸ¤–ï¸  |   ğŸ”   |
| ---- | ---- |
|      |   âœ¨   |


```
è¾“å…¥ï¼šobstacleGrid = [[0,1],[0,0]]  
è¾“å‡ºï¼š1  
```

:::tip æç¤º
m ==Â obstacleGrid.length  
n ==Â obstacleGrid[i].length  
1 <= m, n <= 100  
obstacleGrid[i][j] ä¸º 0 æˆ– 1  
:::

## æ€è·¯
åŠ¨æ€è§„åˆ’ï¼š

| dp[0][0] |      |      |      |      |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- |
|      |      |   ğŸ”(1)   |      |      |                |  dp[i-1][j]    |
|      |      |      |      |      |  dp[i][j-1]    |  dp[i][j]   |


ä¸ä¸Šä¸€é¢˜æ€»ä½“æ€æƒ³æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯è¦åœ¨åˆå§‹åŒ–å’Œå¯¹`dp[i][j]`èµ‹å€¼çš„æ—¶å€™ï¼Œåˆ¤æ–­å½“å‰ä½ç½®æ˜¯å¦æ˜¯éšœç¢ç‰©
1. ç¡®å®š `dp[i][j]` ä¸ºä»`[0, 0]`åˆ°`[i, j]`æœ‰`dp[i][j]`æ¡ä¸åŒçš„è·¯å¾„  
2. å› ä¸ºæœºå™¨äººåªèƒ½`å‘å³`æˆ–`å‘ä¸‹`èµ°ï¼Œæ‰€ä»¥èƒ½åˆ°è¾¾`dp[i][j]`çš„åªæœ‰`dp[i-1][j]`å’Œ`dp[i][j-1]`ä¸¤æ¡è·¯å¾„ï¼Œ
æ¨å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º`dp[i][j]=dp[i-1][j]+dp[i][j-1]`
3. åˆå§‹åŒ–`dp`ï¼Œå› ä¸ºç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—åªæœ‰ä¸€ç§æ–¹å¼èƒ½åˆ°è¾¾ï¼Œæ‰€ä»¥å¯ä»¥å°†ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—åˆå§‹åŒ–ä¸º1ï¼Œ
è¿™æ—¶å€™å‡ºç°ä¸åŒï¼Œå› ä¸ºéšœç¢ç‰©å¯èƒ½å­˜åœ¨äºç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—ï¼Œæ‰€ä»¥åœ¨éšœç¢ç‰©ä¹‹åçš„ä½ç½®éƒ½åº”è¯¥æ˜¯`0`
4. åœ¨ç»™`dp[i][j]`èµ‹å€¼çš„æ—¶å€™ï¼Œè¦åˆ¤æ–­å½“å‰ä½ç½®æ˜¯å¦æ˜¯éšœç¢ç‰©ï¼Œå³åˆ¤æ–­å½“å‰ä½ç½®æ˜¯å¦ç­‰äº`1`ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™èµ‹å€¼ä¸º`0`


| dp[0][0] |   1   |   1   |   ğŸ” (1)=0  |   0   |   0   |   0   |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- |
|   1   |   2   |   ğŸ”(1)=0   |      |      |                |  dp[i-1][j]    |
|   1   |      |      |      |      |  dp[i][j-1]    |  dp[i][j]   |


5. ä¾æ¬¡éå†è¡Œã€åˆ—æ±‚å‡ºæ•°æ®æœ€åè¿”å›`dp[i][j]`å³å¯


| dp[0][0] |   1â¬‡ï¸   |   1   |   ğŸ” (1)=0  |   0   |   0   |   0   |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- |
|   1â¡ï¸   |   2   |   ğŸ”(1)=0   |   0   |   0   |       0         |  dp[i-1][j] = 0   |
|   1   |   3   |   3   |    3  |   3   |  dp[i][j-1] = 3   |  dp[i][j] = 3  |


## é¢˜è§£
```javascript
var uniquePathsWithObstacles = function(dp) {
    let m = dp.length,n=dp[0].length
    for(let i =0;i<m;i++){
        if(i>0 && dp[i-1][0]===0){
            dp[i][0] = 0
        }else{
            dp[i][0] = ~~!dp[i][0]
        }
    }
    for(let j=1;j<n;j++){
        if(j>0 && dp[0][j-1]===0){
            dp[0][j] = 0
        }else{
            dp[0][j] = ~~!dp[0][j]
        }
    }

    for(let i=1;i<m;i++){
        for(let j=1;j<n;j++){
            if(dp[i][j]===1) {
                dp[i][j] = 0
            }else{
                dp[i][j] = dp[i-1][j]+dp[i][j-1]
            }
        }
    }
    return dp[m-1][n-1]
};
```

## ä¼˜åŒ–
```
[
    [0,0,0,1,0,0,0],
    [0,0,1,0,0,0,0],
    [0,0,0,0,0,0,0]
]
```

äºä¹‹å‰æƒ³æ³•ä¸€è‡´ï¼Œå°±æ˜¯éœ€è¦åœ¨å¾ªç¯ä¸­åˆ¤æ–­äºŒç»´æ•°ç»„å½“å‰ä½ç½®æ˜¯å¦æ˜¯éšœç¢ç‰©ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™èµ‹å€¼ä¸º0

```
ç¬¬ä¸€æ¬¡ [1, 1     , 1            , 0(dp[0][3]=1)      , 0         , 0      , 0     ]
ç¬¬äºŒæ¬¡ [1, 2(1+1), 0(dp[1][2]=1), 0                  , 0         , 0      , 0     ] 
ç¬¬ä¸‰æ¬¡ [1, 3(2+1), 3(3+0)        , 3(3+0)            , 3(3+0)    , 3(3+0) , 3(3+0)]  
```

```javascript
const uniquePaths = function(dp){
    //åˆå§‹åŒ–é•¿åº¦ä¸ºnçš„ä¸€ç»´æ•°ç»„
    let dpArr = Array(n).fill(0)
    dpArr[0] = 1
    for(let i=0;i<m;i++){
        for(let j=0;j<n;j++){
            if(dp[i][j]===1){
                dpArr[j] = 0
            }else if(j > 0){
                //å½“å‰ä½ç½®=ä¸Šä¸€æ¬¡çš„å½“å‰ä½ç½®+å½“å‰ä½ç½®å‰ä¸€åˆ—ä½ç½®
                dpArr[j] += dpArr[j-1]
            }
        }
    }
    return dpArr[n-1]
}
```

<style>
.path-table tr,
.path-table td {
    width: 80px;
    height: 80px;
    text-align: center;
}

.path-table tr:nth-child(2n) {
    background-color: unset;
}
</style>